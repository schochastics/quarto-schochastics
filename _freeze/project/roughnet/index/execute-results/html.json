{
  "hash": "221c37271b5dbf5e18e96d14fa6f9dae",
  "result": {
    "markdown": "---\nauthor: David Schoch\ndate: \"2020-06-25\"\ndescription: Visualize networks using the javascript library roughjs. This allows to draw sketchy, hand-drawn-like networks.\nsubtitle: An R package to draw sketchy networks\ntitle: roughnet\nimage: featured-hex.png\ntitle-block-style: none\ntoc: true\npriority: 8\n---\n\n\n<button type=\"button\" class=\"btn btn-outline-success\"><a href=\"https://github.com/schochastics/roughnet\">GITHUB</a></button>\n<button type=\"button\" class=\"btn btn-outline-success\"><a href=\"http://roughnet.schochastics.net/\">PKGDOWN</a></button>\n\n\n\n\n\n\nUsing the java script library [rough.js](https://roughjs.com/) to draw sketchy, hand-drawn-like networks.  \n(*Checkout [ggrough](https://xvrdm.github.io/ggrough/) for turning general ggplot objects into sketchy drawings*)  \n\n![](https://raw.githubusercontent.com/schochastics/roughnet/master/man/figures/example.png)\n\n## Installation\n\nYou can install the developers version of roughnet with:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# install.packages(\"remotes\")\nremotes::install_github(\"schochastics/roughnet\")\n```\n:::\n\n\n## Example\n\nThe package currently only works with {{igraph}} objects by setting styling elements as vertex/edge attributes.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(roughnet)\nlibrary(igraph)\n\ng <- make_graph(\"Zachary\")\nV(g)$shape <- \"circle\"\nV(g)$shape[c(1,34)] <- \"rectangle\"\nV(g)$fill <- c(\"#E41A1C\", \"#377EB8\", \"#4DAF4A\", \"#984EA3\")[membership(cluster_louvain(g))]\nV(g)$fillstyle <- c(\"hachure\", \"zigzag\", \"cross-hatch\", \"dots\")[membership(cluster_louvain(g))]\nV(g)$color <- \"black\"\nV(g)$size <- 30\nV(g)$stroke <- 2\nE(g)$color <- \"#AEAEAE\"\nroughnet(g,width = 960,height = 600)\n```\n:::\n\n\n![](https://raw.githubusercontent.com/schochastics/roughnet/master/man/figures/karate.png)\n\nYou can save the plot with the function `save_roughnet()` (needs {{pagedown}} to be installed.)\n\n::: {.cell}\n\n```{.r .cell-code}\n# install.packages(\"pagedown\")\np <- roughnet(g,width = 960,height = 600)\nsave_roughnet(p,\"karate.png\")\n```\n:::\n\n\n## Extended Example\n\nThe package also allows to place labels in or around vertices and implements some custom vertex shapes.\n\n::: {.cell}\n\n```{.r .cell-code}\n# install.packages(c(\"signnet\",\"graphlayouts\"))\nlibrary(signnet)\nlibrary(graphlayouts)\nlibrary(dplyr)\n\ndata(\"avatar\") # Allies/Enemies relations in Avatar: The Last Airbender\n\nmain <- induced_subgraph(avatar,which(V(avatar)$main)) #only use the main characters\n\n#calculate layout\nw <- ifelse(E(main)$sign==1,3,1)\nxy <- layout_with_stress(main,weights = 1/w)\n\nV(main)$x <- xy[,1]\nV(main)$y <- xy[,2]\n\nV(main)$fill <- case_when(V(main)$affiliation==\"earth kingdom\"~\"#8B6914\",\n                          V(main)$affiliation==\"fire nation\"~\"#CD2626\",\n                          V(main)$affiliation==\"water tribe\"~\"white\",\n                          V(main)$affiliation==\"air nomad\"~\"#98F5FF\",\n                       TRUE~\"grey\"\n)\n\nV(main)$color <- case_when(V(main)$affiliation==\"earth kingdom\"~\"#8B6914\",\n                          V(main)$affiliation==\"fire nation\"~\"#CD2626\",\n                          V(main)$affiliation==\"water tribe\"~\"#1874CD\",\n                          V(main)$affiliation==\"air nomad\"~\"#98F5FF\",\n                          TRUE~\"grey\"\n)\n\nV(main)$shape <- case_when(V(main)$affiliation==\"earth kingdom\"~\"earth\",\n                           V(main)$affiliation==\"fire nation\"~\"fire\",\n                           V(main)$affiliation==\"water tribe\"~\"water\",\n                           V(main)$affiliation==\"air nomad\"~\"air\",\n                           TRUE~\"circle\"\n)\n\n\nE(main)$width <- ifelse(E(main)$sign==1,1.2,0.3)\nE(main)$color <- ifelse(E(main)$sign==1,\"#228B22\",\"#CD3278\")\nV(main)$label <- V(main)$name\n# position labels in the (c)enter of the vertex or (n)orth, (e)ast, (s)outh, or (w)est of it \nV(main)$pos <- c(\"n\",\"s\",\"s\",\"s\",\"s\",\"e\",\"n\",\"e\",\"s\",\"n\") \n\nroughnet(main, width = 600, height=600, font = \"30px Herculanum\")\n```\n:::\n\n\n\n![](https://raw.githubusercontent.com/schochastics/roughnet/master/man/figures/avatar.png)",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}